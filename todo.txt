rebuild logic in logisim-evolution